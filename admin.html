<!DOCTYPE html>
<html>
<head>
  <title>Admin Panel</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

<script>
  const expiry = localStorage.getItem("adminExpiry");
  if (localStorage.getItem("adminAuth") !== "true" || Date.now() > expiry) {
    localStorage.clear();
    location.href = "login.html";
  }
</script>

<div class="admin-panel fade-up">
  <h2>Admin Panel</h2>

  <input id="ip" placeholder="Server IP">
  <input id="refresh" type="number" min="5" placeholder="Refresh Interval (sec)">
  <input id="discord" placeholder="Discord Widget Embed URL">

  <button class="btn" onclick="save()">Save</button>
  <button class="btn small" onclick="logout()">Logout</button>

  <p id="saved"></p>
</div>

<script>
  ip.value = localStorage.getItem("serverIP") || "play.minegg.net";
  refresh.value = localStorage.getItem("refreshInterval") || 30;
  discord.value = localStorage.getItem("discordWidget") || "";

  function save() {
    localStorage.setItem("serverIP", ip.value.trim());
    localStorage.setItem("refreshInterval", refresh.value);
    localStorage.setItem("discordWidget", discord.value.trim());
    saved.textContent = "Saved âœ”";
    setTimeout(() => saved.textContent = "", 2000);
  }

  function logout() {
    localStorage.clear();
    location.href = "login.html";
  }
</script>

</body>
</html>
