<!DOCTYPE html>
<html>
<head>
  <title>Admin Panel</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

<script>
  if (localStorage.getItem("adminAuth") !== "true") {
    location.href = "login.html";
  }
</script>

<div class="admin-panel">
  <h2>Admin Panel</h2>

  <input id="ipInput" placeholder="Server IP">
  <input id="refreshInput" type="number" min="5" placeholder="Refresh (seconds)">
  <input id="discordInput" placeholder="Discord Widget URL">

  <button class="btn" onclick="save()">Save</button>
  <button class="btn small" onclick="logout()">Logout</button>
  <p id="saved"></p>
</div>

<script>
  ipInput.value = localStorage.getItem("serverIP") || "play.minegg.net";
  refreshInput.value = localStorage.getItem("refreshInterval") || 30;
  discordInput.value = localStorage.getItem("discordWidget") || "";

  function save() {
    localStorage.setItem("serverIP", ipInput.value);
    localStorage.setItem("refreshInterval", refreshInput.value);
    localStorage.setItem("discordWidget", discordInput.value);
    saved.textContent = "Saved âœ”";
    setTimeout(() => location.href = "index.html", 1000);
  }

  function logout() {
    localStorage.clear();
    location.href = "login.html";
  }
</script>

</body>
</html>
